<!DOCTYPE html>

<html>
  <head>
    <title>AR - UniAndes</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="styles.css">

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="gesture-detector.js"></script>
    <script src="gesture-handler.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v5.0.1/dist/aframe-extras.min.js" ></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>


<script>
  AFRAME.registerComponent('markerhandler', {

    
      init: function () {
        let toggle = false
          const bot_01 = document.querySelector("#bot_01");
          
          bot_01.addEventListener('click', function () {
              console.log("click event on #animated-marker fired")
              
              const element = document.querySelector("#cam_01-model");
              element.setAttribute('visible', false);
          })
         
      
      }
  })
</script>



 <!-- <script>
    function myFunction() {
        var x = document.getElementById("myDIV");
        if (x.style.display === "none") {
          x.style.display = "block";
        } else {
          x.style.display = "none";
        }
      }
    </script>-->




<style>
    .buttons {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 5em;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 30;
    }

    .say-hi-button {
      padding: 0.25em;
      border-radius: 4px;
      border: none;
      background: white;
      color: black;
      width: 10em;
      height: 2em;
    }
  </style>



  <body>

    
    
      
<div  class="container" style="top: 10px; display: flex; position: absolute; justify-content: center; z-index: 20; align-items: center; left: 0;">
  <div class="row">
    <div id="myDIV" class="col-sm" style="display: none;">
       <div class="card" style="width: 18rem; background-color: rgba(127, 191, 247, 0.4);">
        <div class="card-body">
          <h5 class="card-title">Cámaras</h5>
          <h6 class="card-subtitle mb-2 text-muted"></h6>
          <p class="card-text">•Permiten ver el comportamiento de las personas que están trabajando.
            <br> •	Identifican si los colaboradores se encuentran dentro de su área de trabajo.
            <br> •	Observan si existe saturación de personas en un lugar o si se está cumpliendo con las normas de distanciamiento.
            <br> •	Verifican que los colaboradores porten el equipo de seguridad de manera correcta y con todos los elementos completos 
            </p>
         
        </div>
      </div>
    </div>
    <div id="myDIV2" class="col-sm" style="display: none;">
      <div class="card" style="width: 18rem; background-color: rgba(127, 191, 247, 0.4);">
        <div class="card-body">
          <h5 class="card-title">Cámaras térmicas</h5>
          <h6 class="card-subtitle mb-2 text-muted"></h6>
          <p class="card-text">
            •	Detectan si los colaboradores cuentan con una temperatura corporal adecuada
            <br>•	Localizan de manera oportuna a las personas que presentan posibles síntomas de enfermedad por una temperatura elevada.
            <br>•	Verifican si el equipo de protección que usa el colaborador cuenta con una temperatura adecuada o de lo contrario alerta para que el colaborador no sufra accidentes.  
            <br>Con estos dispositivos tecnológicos conectados entre sí, es posible que cada vez que se detecte alguna eventualidad o comportamiento fuera de lo permitido, se reporte automáticamente el incidente a las personas encargadas del monitoreo, que se emitan alertas sonoras o bien, que se le envíen notificaciones directamente a la persona que está infringiendo con alguna norma.
            </p>
          
        </div>
      </div>
    </div>
  </div>
</div>

     
<div  class="container" style="bottom: 0; display: flex; position: absolute; justify-content: center; z-index: 20; align-items: center; left: 0;">
  <div class="col-sm">  
  <div class="buttons">
         <button onclick="play()" id="show-hide-entity" class="say-hi-button">Cámaras</button><br><br>
       </div>
  </div>
  
  <div class="col-sm">
       <div class="buttons">
        <button onclick="play2()" id="show-hide-entity" class="say-hi-button2">Cámaras térmicas</button><br><br>
      </div>
  </div>
       <audio id="audio" src="audio\Camaras.mp3"></audio>
       <audio id="audio2" src="audio\CamarasTermicas.mp3"></audio>
</div>

    <a-scene
      arjs
      embedded
      renderer="logarithmicDepthBuffer: true;"
      vr-mode-ui="enabled: false"
      gesture-detector
      id="scene"
    >
      <a-assets>
        <a-asset-item
          id="bowser"
          src="models\escenario\escenario.glb"
        >
        </a-asset-item>
      </a-assets>

      <a-assets>
        <a-asset-item
          id="cam_01"
          src="models\Camara_IMHUD_01.glb"
        >
        </a-asset-item>
      </a-assets>

      <a-assets>
        <a-asset-item
          id="cam_02"
          src="models\Camara_IMHUD_02.glb"
        >
        </a-asset-item>
      </a-assets>

       

      
      <a-marker
        preset="hiro"
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        id="markerA"
      >
        <a-entity
          id="bowser-model"
          gltf-model="#bowser"
          position="0 0 0"
          scale="0.05 0.05 0.05"
          class="clickable"
          gesture-handler
          visible="true"
        >
        </a-entity>

        <a-entity
          id="cam_01-model"
          gltf-model="#cam_01"
          position="0 0 0"
          scale="0.05 0.05 0.05"
          class="clickable"
          gesture-handler
          visible="false" 
          animation-mixer  
          material="emissiveIntensity:15;"      
        >
        </a-entity>

        <a-entity
        id="cam_02-model"
        gltf-model="#cam_02"
        position="0 0 0"
        scale="0.05 0.05 0.05"
        class="clickable"
        gesture-handler
        visible="false" 
        animation-mixer  
        material="emissiveIntensity:15;"      
      >
      </a-entity>

           
           


      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>



   

    



<script>
  window.onload = function () {
    document
      .querySelector(".say-hi-button")
      .addEventListener("click", function () {
        const element = document.querySelector("#cam_01-model");
        const element2 = document.querySelector("#cam_02-model");
        if ( element.object3D.visible === false ) {

element.object3D.visible = true;

} else {

element.object3D.visible = false;
}

if ( element2.object3D.visible === true ) {

element2.object3D.visible = false;

}
       
      });
  


      document
      .querySelector(".say-hi-button2")
      .addEventListener("click", function () {
        const element = document.querySelector("#cam_01-model");
        const element2 = document.querySelector("#cam_02-model");
        if ( element2.object3D.visible === false ) {

element2.object3D.visible = true;

} else {

element2.object3D.visible = false;
}

if ( element.object3D.visible === true ) {

element.object3D.visible = false;

}
       
      });
  };
</script>


<script>
  function play() {
    var audio = document.getElementById("audio");
    if (audio.paused) 
    audio.play(); 
  else 
    audio.pause(); 

    var x = document.getElementById("myDIV");
        if (x.style.display === "none") {
          x.style.display = "block";
        } else {
          x.style.display = "none";
        }

        var xh1 = document.getElementById("myDIV2");
        if (xh1.style.display === "block") {
          xh1.style.display = "none";
        }

        var audioh1 = document.getElementById("audio2");
    if (audioh1.play) 
    audioh1.pause(); 

  }
</script>



<script>
  function play2() {
    var audio = document.getElementById("audio2");
    if (audio2.paused) 
    audio2.play(); 
  else 
    audio2.pause(); 

    var x = document.getElementById("myDIV2");
        if (x.style.display === "none") {
          x.style.display = "block";
        } else {
          x.style.display = "none";
        }

        var xh1 = document.getElementById("myDIV");
        if (xh1.style.display === "block") {
          xh1.style.display = "none";
        }

        var audioh1 = document.getElementById("audio");
    if (audioh1.play) 
    audioh1.pause();
  }
</script>
    
  </body>
</html>
